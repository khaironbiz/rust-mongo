cargo : warning: unused import: `PaginatedResult`
At line:1 char:1
+ cargo test > test_output.txt 2>&1
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (warning: un 
   used...aginatedResult`:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
 --> src\services\role_service.rs:7:36
  |
7 |     pagination::{PaginationParams, PaginatedResult, 
PaginationMeta},
  |                                    ^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of 
`#[warn(unused)]`) on by default

warning: unused import: `PaginatedResult`
 --> src\services\user_role_service.rs:8:36
  |
8 |     pagination::{PaginationParams, PaginatedResult, 
PaginationMeta},
  |                                    ^^^^^^^^^^^^^^^

warning: unused variable: `state`
  --> src\middleware.rs:26:11
   |
26 |     State(state): State<Arc<AppState>>,
   |           ^^^^^ help: if this is intentional, 
prefix it with an underscore: `_state`
   |
   = note: `#[warn(unused_variables)]` (part of 
`#[warn(unused)]`) on by default

warning: function `deserialize_id_from_string` is never 
used
  --> src\models.rs:26:4
   |
26 | fn deserialize_id_from_string<'de, D>(deserializer: 
D) -> Result<Option<ObjectId>, D::Error>
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of 
`#[warn(unused)]`) on by default

warning: `rme-api-rust` (lib) generated 4 warnings (run 
`cargo fix --lib -p rme-api-rust` to apply 3 suggestions)
warning: `rme-api-rust` (lib test) generated 4 warnings 
(4 duplicates)
warning: unused import: `appointment_handlers::*`
  --> src\handlers\mod.rs:24:9
   |
24 | pub use appointment_handlers::*;
   |         ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of 
`#[warn(unused)]`) on by default

warning: unused import: `service_handlers::*`
  --> src\handlers\mod.rs:25:9
   |
25 | pub use service_handlers::*;
   |         ^^^^^^^^^^^^^^^^^^^

warning: unused import: `insurance_handlers::*`
  --> src\handlers\mod.rs:26:9
   |
26 | pub use insurance_handlers::*;
   |         ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `file_handlers::*`
  --> src\handlers\mod.rs:27:9
   |
27 | pub use file_handlers::*;
   |         ^^^^^^^^^^^^^^^^

warning: unused import: `role_handlers::*`
  --> src\handlers\mod.rs:28:9
   |
28 | pub use role_handlers::*;
   |         ^^^^^^^^^^^^^^^^

warning: unused import: `user_role_handlers::*`
  --> src\handlers\mod.rs:29:9
   |
29 | pub use user_role_handlers::*;
   |         ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `code_handlers::*`
  --> src\handlers\mod.rs:30:9
   |
30 | pub use code_handlers::*;
   |         ^^^^^^^^^^^^^^^^

warning: unused import: `PaginatedResult`
 --> src\services\role_service.rs:7:36
  |
7 |     pagination::{PaginationParams, PaginatedResult, 
PaginationMeta},
  |                                    ^^^^^^^^^^^^^^^

warning: unused import: `std::net::SocketAddr`
  --> src\main.rs:17:5
   |
17 | use std::net::SocketAddr;
   |     ^^^^^^^^^^^^^^^^^^^^

warning: function `validate_nip` is never used
  --> src\validation.rs:43:8
   |
43 | pub fn validate_nip(nip: &str) -> Result<(), 
ValidationError> {
   |        ^^^^^^^^^^^^

warning: function `validate_email` is never used
  --> src\validation.rs:62:8
   |
62 | pub fn validate_email(email: &str) -> Result<(), 
ValidationError> {
   |        ^^^^^^^^^^^^^^

warning: function `validate_required` is never used
  --> src\validation.rs:74:8
   |
74 | pub fn validate_required(field_name: &str, value: 
&str) -> Result<(), ValidationError> {
   |        ^^^^^^^^^^^^^^^^^

warning: function `validate_phone` is never used
  --> src\validation.rs:86:8
   |
86 | pub fn validate_phone(phone: &str) -> Result<(), 
ValidationError> {
   |        ^^^^^^^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\medical_record.rs:15:18
   |
10 | impl MedicalRecordRepository {
   | ---------------------------- method in this 
implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<MedicalRecord>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\file.rs:15:18
   |
10 | impl FileRepository {
   | ------------------- method in this implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<File>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\doctor.rs:15:18
   |
10 | impl DoctorRepository {
   | --------------------- method in this implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<Doctor>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\nurse.rs:15:18
   |
10 | impl NurseRepository {
   | -------------------- method in this implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<Nurse>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\medicine.rs:15:18
   |
10 | impl MedicineRepository {
   | ----------------------- method in this 
implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<Medicine>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\appointment.rs:15:18
   |
10 | impl AppointmentRepository {
   | -------------------------- method in this 
implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<Appointment>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\service.rs:15:18
   |
10 | impl ServiceRepository {
   | ---------------------- method in this implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<Service>, String> {
   |                  ^^^^^^^^

warning: method `find_all` is never used
  --> src\repository\insurance.rs:15:18
   |
10 | impl InsuranceRepository {
   | ------------------------ method in this 
implementation
...
15 |     pub async fn find_all(&self) -> 
Result<Vec<Insurance>, String> {
   |                  ^^^^^^^^

warning: method `get_all` is never used
  --> src\services\medical_record_service.rs:33:18
   |
13 | impl MedicalRecordService {
   | ------------------------- method in this 
implementation
...
33 |     pub async fn get_all(&self) -> 
Result<Vec<MedicalRecordResponse>, String> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\file_service.rs:39:18
   |
16 | impl FileService {
   | ---------------- method in this implementation
...
39 |     pub async fn get_all(&self) -> 
Result<Vec<FileResponse>, String> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\doctor_service.rs:29:18
   |
12 | impl DoctorService {
   | ------------------ method in this implementation
...
29 |     pub async fn get_all(&self) -> 
Result<Vec<DoctorResponse>, (StatusCode, String)> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\nurse_service.rs:27:18
   |
12 | impl NurseService {
   | ----------------- method in this implementation
...
27 |     pub async fn get_all(&self) -> 
Result<Vec<NurseResponse>, (StatusCode, String)> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\medicine_service.rs:33:18
   |
12 | impl MedicineService {
   | -------------------- method in this implementation
...
33 |     pub async fn get_all(&self) -> 
Result<Vec<MedicineResponse>, (StatusCode, String)> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\appointment_service.rs:29:18
   |
12 | impl AppointmentService {
   | ----------------------- method in this 
implementation
...
29 |     pub async fn get_all(&self) -> 
Result<Vec<AppointmentResponse>, (StatusCode, String)> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\service_service.rs:27:18
   |
12 | impl ServiceService {
   | ------------------- method in this implementation
...
27 |     pub async fn get_all(&self) -> 
Result<Vec<ServiceResponse>, (StatusCode, String)> {
   |                  ^^^^^^^

warning: method `get_all` is never used
  --> src\services\insurance_service.rs:28:18
   |
12 | impl InsuranceService {
   | --------------------- method in this implementation
...
28 |     pub async fn get_all(&self) -> 
Result<Vec<InsuranceResponse>, (StatusCode, String)> {
   |                  ^^^^^^^

warning: methods `get_user_by_id` and `logout` are never 
used
   --> src\services\auth_service.rs:430:18
    |
 32 | impl AuthService {
    | ---------------- methods in this implementation
...
430 |     pub async fn get_user_by_id(&self, id: 
ObjectId) -> Result<Option<User>, String> {
    |                  ^^^^^^^^^^^^^^
...
435 |     pub async fn logout(&self, user_id: ObjectId) 
-> Result<(), (StatusCode, String)> {
    |                  ^^^^^^

warning: associated function `created` is never used
  --> src\response.rs:57:12
   |
38 | impl<T: Serialize> ApiResponse<T> {
   | --------------------------------- associated 
function in this implementation
...
57 |     pub fn created(message: impl Into<String>, 
data: T) -> Self {
   |            ^^^^^^^

warning: associated functions `forbidden` and `conflict` 
are never used
   --> src\response.rs:147:12
    |
116 | impl ErrorResponse {
    | ------------------ associated functions in this 
implementation
...
147 |     pub fn forbidden(message: impl Into<String>) 
-> Self {
    |            ^^^^^^^^^
...
157 |     pub fn conflict(message: impl Into<String>, 
details: Option<String>) -> Self {
    |            ^^^^^^^^

warning: associated function `new` is never used
  --> src\pagination.rs:25:12
   |
23 | impl PaginationParams {
   | --------------------- associated function in this 
implementation
24 |     /// Create pagination params
25 |     pub fn new(page: u32, limit: u32) -> Self {
   |            ^^^

warning: field `total_pages` is never read
   --> src\pagination.rs:103:9
    |
100 | pub struct PaginatedResult<T> {
    |            --------------- field in this struct
...
103 |     pub total_pages: u64,
    |         ^^^^^^^^^^^
    |
    = note: `PaginatedResult` has derived impls for the 
traits `Clone` and `Debug`, but these are intentionally 
ignored during dead code analysis

warning: struct `DeleteResponse` is never constructed
 --> src\dto\common.rs:4:12
  |
4 | pub struct DeleteResponse {
  |            ^^^^^^^^^^^^^^

warning: struct `BulkDeleteRequest` is never constructed
  --> src\dto\common.rs:11:12
   |
11 | pub struct BulkDeleteRequest {
   |            ^^^^^^^^^^^^^^^^^

warning: struct `BulkDeleteResponse` is never constructed
  --> src\dto\common.rs:16:12
   |
16 | pub struct BulkDeleteResponse {
   |            ^^^^^^^^^^^^^^^^^^

warning: struct `ParentCodeEmbedDto` is never constructed
  --> src\dto\child_code.rs:28:12
   |
28 | pub struct ParentCodeEmbedDto {
   |            ^^^^^^^^^^^^^^^^^^

warning: struct `ChildCodeResponse` is never constructed
  --> src\dto\child_code.rs:36:12
   |
36 | pub struct ChildCodeResponse {
   |            ^^^^^^^^^^^^^^^^^

warning: struct `RegionResponse` is never constructed
  --> src\dto\region.rs:23:12
   |
23 | pub struct RegionResponse {
   |            ^^^^^^^^^^^^^^

warning: function `require_auth` is never used
  --> src\middleware.rs:76:14
   |
76 | pub async fn require_auth(
   |              ^^^^^^^^^^^^

warning: `rme-api-rust` (bin "rme-api-rust") generated 
44 warnings (3 duplicates) (run `cargo fix --bin 
"rme-api-rust" -p rme-api-rust` to apply 9 suggestions)
warning: `rme-api-rust` (bin "rme-api-rust" test) 
generated 42 warnings (42 duplicates)
    Finished `test` profile [unoptimized + debuginfo] 
target(s) in 0.47s
     Running unittests src\lib.rs 
(target\debug\deps\rme_api_rust-5419f9e18a6ad659.exe)

running 10 tests
test pagination::tests::test_pagination_meta ... ok
test pagination::tests::test_pagination_params_defaults ... ok
test pagination::tests::test_pagination_params_limits ... ok
test pagination::tests::test_pagination_params_skip ... ok
test response::tests::test_created_response ... ok
test response::tests::test_error_response ... ok
test services::auth_service::tests::access_token_roundtrip_success ... ok
test services::auth_service::tests::refresh_token_roundtrip_success ... ok
test response::tests::test_success_response ... ok
test services::auth_service::tests::validate_token_rejects_refresh_token ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src\main.rs 
(target\debug\deps\rme_api_rust-1836638224455722.exe)

running 10 tests
test pagination::tests::test_pagination_params_defaults ... ok
test pagination::tests::test_pagination_meta ... ok
test pagination::tests::test_pagination_params_skip ... ok
test pagination::tests::test_pagination_params_limits ... ok
test response::tests::test_error_response ... ok
test response::tests::test_success_response ... ok
test services::auth_service::tests::access_token_roundtrip_success ... ok
test services::auth_service::tests::validate_token_rejects_refresh_token ... ok
test services::auth_service::tests::refresh_token_roundtrip_success ... ok
test response::tests::test_created_response ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.11s

     Running tests\api_tests.rs 
(target\debug\deps\api_tests-ca91dd78ad4986ba.exe)

running 2 tests
test get_doctors_returns_ok ... FAILED
test get_medical_records_returns_ok ... FAILED

failures:

---- get_doctors_returns_ok stdout ----

thread 'get_doctors_returns_ok' (16248) panicked at C:\Users\KHAIRON\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\axum-0.7.9\src\routing\path_router.rs:70:22:
Overlapping method route. Handler for `GET /child-codes` already exists

---- get_medical_records_returns_ok stdout ----

thread 'get_medical_records_returns_ok' (6492) panicked at C:\Users\KHAIRON\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\axum-0.7.9\src\routing\path_router.rs:70:22:
Overlapping method route. Handler for `GET /child-codes` already exists
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    get_doctors_returns_ok
    get_medical_records_returns_ok

test result: FAILED. 0 passed; 2 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

error: test failed, to rerun pass `--test api_tests`
